<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ドラッグカルーセル</title>
<style>
  html, body {
    margin: 0;
    padding: 0;
    overflow: hidden; /* 縦スクロール禁止 */
    height: 100%;
    background: #111;
    display: flex;
    justify-content: center;
    align-items: center;
  }

  .carousel {
    display: flex;
    gap: 5px; /* 画像間の余白を狭める */
    overflow-x: hidden;
    cursor: grab;
    touch-action: pan-x;
    user-select: none;
    padding: 10px 0;
  }

  .carousel img {
    width: 90vw;  /* 画面幅の90%に拡大 */
    max-width: 450px; /* PCでの最大サイズ */
    height: auto;
    flex-shrink: 0;
    border-radius: 8px;
    transition: transform 0.2s ease;
  }

  .dragging {
    cursor: grabbing;
  }
</style>
</head>
<body>

<div class="carousel">
  <img src="image/king.of.spades.png" alt="画像1">
  <img src="image/king.of.spades_mirror.png" alt="画像2">
</div>

<script>
const carousel = document.querySelector('.carousel');

let isDragging = false;
let startX;
let scrollLeft;

carousel.addEventListener('mousedown', (e) => {
  isDragging = true;
  carousel.classList.add('dragging');
  startX = e.pageX - carousel.offsetLeft;
  scrollLeft = carousel.scrollLeft;
});

carousel.addEventListener('mouseleave', () => {
  isDragging = false;
  carousel.classList.remove('dragging');
});

carousel.addEventListener('mouseup', () => {
  isDragging = false;
  carousel.classList.remove('dragging');
});

carousel.addEventListener('mousemove', (e) => {
  if (!isDragging) return;
  e.preventDefault();
  const x = e.pageX - carousel.offsetLeft;
  const walk = (startX - x);
  carousel.scrollLeft = scrollLeft + walk;
});

// タッチ操作
carousel.addEventListener('touchstart', (e) => {
  isDragging = true;
  startX = e.touches[0].pageX - carousel.offsetLeft;
  scrollLeft = carousel.scrollLeft;
});

carousel.addEventListener('touchend', () => {
  isDragging = false;
});

carousel.addEventListener('touchmove', (e) => {
  if (!isDragging) return;
  const x = e.touches[0].pageX - carousel.offsetLeft;
  const walk = (startX - x);
  carousel.scrollLeft = scrollLeft + walk;
});
</script>

</body>
</html>