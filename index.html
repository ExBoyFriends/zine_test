<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ドラッグカルーセル</title>
<style>
  body {
    margin: 0;
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 100vh;
    background: #111;
  }

  .carousel {
    display: flex;
    gap: 10px; /* 画像間の余白 */
    overflow-x: hidden;
    cursor: grab;
    padding: 20px 0;
    touch-action: pan-x;
    user-select: none;
  }

  .carousel img {
    width: 80vw;  /* 画面幅に応じて調整 */
    max-width: 400px; /* PCでは大きくなりすぎないように */
    height: auto;
    flex-shrink: 0;
    border-radius: 8px;
    transition: transform 0.2s ease;
  }

  /* ドラッグ中のカーソル */
  .dragging {
    cursor: grabbing;
  }
</style>
</head>
<body>

<div class="carousel">
  <img src="image/king.of.spades.png" alt="画像1">
  <img src="image/king.of.spades_mirror.png" alt="画像2">
</div>

<script>
const carousel = document.querySelector('.carousel');

let isDragging = false;
let startX;
let scrollLeft;

carousel.addEventListener('mousedown', (e) => {
  isDragging = true;
  carousel.classList.add('dragging');
  startX = e.pageX - carousel.offsetLeft;
  scrollLeft = carousel.scrollLeft;
});

carousel.addEventListener('mouseleave', () => {
  isDragging = false;
  carousel.classList.remove('dragging');
});

carousel.addEventListener('mouseup', () => {
  isDragging = false;
  carousel.classList.remove('dragging');
});

carousel.addEventListener('mousemove', (e) => {
  if (!isDragging) return;
  e.preventDefault();
  const x = e.pageX - carousel.offsetLeft;
  const walk = (startX - x); // 移動距離
  carousel.scrollLeft = scrollLeft + walk;
});

// タッチ操作対応
carousel.addEventListener('touchstart', (e) => {
  isDragging = true;
  startX = e.touches[0].pageX - carousel.offsetLeft;
  scrollLeft = carousel.scrollLeft;
});

carousel.addEventListener('touchend', () => {
  isDragging = false;
});

carousel.addEventListener('touchmove', (e) => {
  if (!isDragging) return;
  const x = e.touches[0].pageX - carousel.offsetLeft;
  const walk = (startX - x);
  carousel.scrollLeft = scrollLeft + walk;
});
</script>

</body>
</html>
