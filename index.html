<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ZINE Viewer</title>

<style>
body {
  margin: 0;
  background: #000;
  overflow: hidden;
}

#viewer {
  position: relative;
  width: 100vw;
  height: 100vh;
  overflow: hidden;
  touch-action: none;
}

#image {
  position: absolute;
  top: 50%;
  left: 0;
  transform: translate(0, -50%);
  user-select: none;
  -webkit-user-drag: none;
  will-change: transform;
}
</style>
</head>

<body>

<div id="viewer">
  <!-- 自分の作品画像に変更 -->
  <img id="image" src="https://picsum.photos/2000/1200">
</div>

<script>
function setupLayout() {
  const vw = viewer.clientWidth;
  const vh = viewer.clientHeight;
  const iw = img.naturalWidth;
  const ih = img.naturalHeight;
  if (!iw || !ih) return;

  /* ここが核心：横型サイズを常に基準にする */
  const landscapeW = Math.max(vw, vh);
  const landscapeH = Math.min(vw, vh);
  const scale = Math.min(landscapeW / iw, landscapeH / ih);

  displayWidth  = iw * scale;
  displayHeight = ih * scale;

  img.style.width  = displayWidth + "px";
  img.style.height = displayHeight + "px";

  if (isPortrait()) {
    // 縦型：左半分だけ見せる
    img.style.left = "0";
    img.style.top  = "50%";
    minOffsetX = vw - displayWidth; 
    offsetX = 0;
    applyTransform(offsetX);
  } else {
    // 横型：必ず全体が収まる
    img.style.left = "50%";
    img.style.top  = "50%";
    img.style.transform = "translate(-50%, -50%)";
    offsetX = 0;
    minOffsetX = 0;
  }
}
</script>

</body>
</html>