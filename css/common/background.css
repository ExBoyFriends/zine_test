/* background.css */

.background {
  position: fixed;
  inset: 0;
  width: 100vw;
  height: 100vh;
  background: url('../../image/background.jpg') center / cover no-repeat;
  z-index: 0;
  background-color: #000;
  /* 描画のチラつきを抑えるためのヒント */
  backface-visibility: hidden;
  transform: translateZ(0);
}

/* 影の層：左上を飲み込む寸前まで攻めるが、下部の沈み込み範囲は限定する */
.background::before {
  content: "";
  position: absolute;
  /* 余裕を持って配置し、transformの計算負荷を減らす */
  inset: -50%; 
  z-index: 1;
  
  /* 影の設計：
     1. 起点を 80% 110%（画面の少し下外側）に置くことで、下部の沈みすぎを防止
     2. 楕円の範囲を調整し、画面の3分の1（下部）に濃い影を集中させる
     3. 境界を 96% まで伸ばし、左上隅ギリギリまで攻める
  */
  background: radial-gradient(ellipse at 85% 105%, 
    rgba(0, 0, 0, 1.0) 0%,    /* 下部：しっかり沈める */
    rgba(0, 0, 0, 0.8) 25%,   /* ここまでが画面の下3分の1程度 */
    rgba(0, 0, 0, 0.3) 70%,   /* 中間：薄い影が広がる */
    rgba(0, 0, 0, 0) 96%);    /* 左上：消失点（極限まで攻める） */
  
  mix-blend-mode: multiply; 
  pointer-events: none;
  filter: blur(100px); 

  /* 周期を12秒に。linear ではなく ease-in-out で折り返しを滑らかに */
  animation: smoothLooming 12s ease-in-out infinite alternate;
  will-change: opacity, transform; /* ブラウザに最適化を指示（カクつき防止） */
}

@keyframes smoothLooming {
  0% { 
    /* 【原画に戻る時】完全に透明にし、影を少しだけ遠ざける */
    opacity: 0;
    transform: scale(1.3); 
  }
  100% { 
    /* 【闇が攻める時】
       scaleを1.0に戻すことで影を画面内に収める。
       translateを使わないことで、折り返しのカクつきを抑止 */
    opacity: 1.0;
    transform: scale(1.0);
  }
}
