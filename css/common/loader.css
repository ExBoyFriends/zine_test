/* ================ Loader / Fade ================ */
/* ================ Loader / Fade ================ */

#loader {
  position: fixed;
  inset: 0;
  z-index: 10000;
  display: flex;
  align-items: center;
  justify-content: center;
  background-color: #020202; /* 闇を深くし、光のキレを際立たせる */
  pointer-events: none;
}

/* 画像：完全に静止。光の反射を受け止める器 */
#loader img.loader-inner {
  position: fixed;
  inset: 0;
  width: 100vw;
  height: 100vh;
  object-fit: cover;
  z-index: 9998;
  opacity: 0.12; /* 闇の中でのベース視認度 */
}

/* スポットライト：サイレンのように鋭く広がり、一気に引く */
#fadeLayer {
  position: fixed;
  inset: -100%; /* 大きなスケール変化に対応するため可動域を拡大 */
  z-index: 9999;
  pointer-events: none;
  /* 左上起点。中心(0%)に白を置き、眩しさを表現 */
  background: radial-gradient(circle at 15% 15%, 
    rgba(255, 255, 255, 0.9) 0%, 
    rgba(255, 210, 100, 0.4) 35%, 
    rgba(0, 0, 0, 0) 75%);
  
  mix-blend-mode: screen;
  filter: blur(40px);
  opacity: 0;
  /* 加速して爆発し、瞬時に戻る独自のイージング */
  animation: sirenSpotlight 2.8s cubic-bezier(0.15, 0, 0.15, 1) infinite;
}

@keyframes sirenSpotlight {
  0% { 
    opacity: 0; 
    transform: scale(0.3) translate(-5%, -5%); 
  }
  30% { 
    opacity: 1; 
    transform: scale(2.5) translate(0, 0); /* 一気に全体を飲み込む */
  }
  45% { 
    opacity: 0; 
    transform: scale(0.6) translate(-2%, -2%); /* 鋭く引き抜く */
  }
  100% { 
    opacity: 0;
    transform: scale(0.3);
  }
}

#fadeLayer.hide {
  opacity: 0;
  pointer-events: none;
}
